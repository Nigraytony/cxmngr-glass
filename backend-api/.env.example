# Backend environment variables

# MongoDB connection string (Cosmos DB for MongoDB or Atlas)
# Examples:
# mongodb+srv://<user>:<pass>@<cluster>.mongodb.net/cxmngr?retryWrites=true&w=majority
# mongodb://<username>:<password>@<host>:<port>/cxmngr?authSource=admin
MONGODB_URI=mongodb://localhost:27017/cxmngr-api

# Node server
PORT=4242

# CORS allowed origins (comma-separated). Use * to allow any origin. Prefer explicit origins in production.
# Example: https://your-swa.azurestaticapps.net,https://your-custom-domain.com
CORS_ALLOWED_ORIGINS=*

# JWT secret and other secrets (set in Azure App Service > Configuration)
JWT_SECRET=dev-only-change-me

# Stripe webhook secret etc. (optional)
# STRIPE_WEBHOOK_SECRET=
# STRIPE_SECRET_KEY=

# AI (optional)
# 32-byte encryption key used to store per-project OpenAI keys securely.
# Provide as base64(32 bytes) or 64-char hex. Example (generate):
# node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
AI_ENCRYPTION_KEY=
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# Google Gemini (optional server fallback; project-scoped keys can be used instead)
GEMINI_API_KEY=
GEMINI_MODEL=gemini-1.5-flash

# Anthropic Claude (optional server fallback; project-scoped keys can be used instead)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-5-sonnet-latest

# Ops kill switches (optional)
# When enabled, the API returns 503 FEATURE_DISABLED for the affected feature.
# DISABLE_AI=true
# DISABLE_UPLOADS=true
# DISABLE_EMAIL=true

# Request logging (optional)
# LOG_REQUESTS=true
# DISABLE_REQUEST_LOGS=false

# If running behind a reverse proxy (Azure, Nginx, etc.), set to true so req.ip is correct for rate limiting.
# TRUST_PROXY=true
